---
import LanguageSwitch from "./LanguageSwitch.astro";
import type { Locale, SiteMessages } from "../i18n/types";

interface Props {
    locale: Locale;
    activeRoute: "trending" | "app";
    nav: SiteMessages["nav"];
    heroTitle: string;
    trendingHref: string;
    appHref: string;
    languageHref: string;
    rssUrl?: string;
}

const {
    locale,
    activeRoute,
    nav,
    heroTitle,
    trendingHref,
    appHref,
    languageHref,
    rssUrl
} = Astro.props;

const homeLabel = locale === "zh-CN" ? "首页" : "Home";
---

<nav class="topbar reveal">
    <a class="brand" href={trendingHref} aria-label={homeLabel}>
        <img class="brand-logo" src="/ic_launcher_round.webp" alt="Trending AI Logo" loading="eager" />
        <span class="brand-text">{heroTitle}</span>
    </a>
    <div class="topbar-actions">
        <a class={`top-link nav-text ${activeRoute === "trending" ? "is-active" : ""}`.trim()} href={trendingHref}>{nav.trending}</a>
        <a class={`top-link nav-text ${activeRoute === "app" ? "is-active" : ""}`.trim()} href={appHref}>{nav.app}</a>
        <a class="top-link nav-text" href="https://github.com/HarlonWang/TrendingAI" target="_blank" rel="noopener noreferrer">{nav.github}</a>
        {rssUrl && (
            <a class="top-link top-link-rss nav-text" href={rssUrl} target="_blank" rel="noopener noreferrer" title={nav.rssLabel}>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19.01 7.38 20 6.18 20C4.98 20 4 19.01 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/>
                </svg>
                {nav.rssLabel}
            </a>
        )}
        <LanguageSwitch href={languageHref} label={nav.languageLabel} />
    </div>
</nav>
